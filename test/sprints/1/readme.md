testing most of the basic api